#
#
# Contains 2 sets of results for staples benchmark data.
# The data file inherently contains discrimination for
# black people in FL (unfavorably) and for white people
# in NY (favorably)
#
# 1) Protected: race, Target: price
# 2) Protected: income, Target: price
#
# Notes:
# ------
# On the first case, buckets of subpopulations are split using states.
# On the second case, buckets of populations are split on race.
#
#


Sample Size: 7396
Training Size: 1849
Testing Size: 5547
================================================================================
Commit Hash: 	fbbd13129deeae3b397e31f3d7d20ffc123c2423

Dataset: 	../data/benchmark/benchmark.csv
Training Size: 	1849
Testing Size: 	5547
Attributes: 	['city', 'state', 'gender', 'race', 'income', 'price']
Protected: 	race
Explanatory: 	None
Target: 	price

Tree Params: 	{'min_leaf_size': 100, 'max_depth': 5, 'agg_type': 'AVG'}
Metric: 	NMI(confidence=0.95)

Report Params: 	{'new_measure': None, 'node_filter': 'BETTER_THAN_ANCESTORS', 'fdr': 0.05, 'approx': True, 'sort_by': 'EFFECT'}
================================================================================

Global Population of size 5547

+-------+-----------------------------------+-------------+---------------------------+--------------------+--------------------------------------------+-----------------+-------------------+------------------------------+---------------+
| price | American Indian and Alaska Native |    Asian    | Black or African American | Hispanic or Latino | Native Hawaiian and Other Pacific Islander | Some Other Race | Two or More Races | White Not Hispanic or Latino |     Total     |
+-------+-----------------------------------+-------------+---------------------------+--------------------+--------------------------------------------+-----------------+-------------------+------------------------------+---------------+
|  high |             5 (17.9%)             |   4 (1.9%)  |        385 (37.1%)        |     40 (5.2%)      |                  0 (0.0%)                  |     4 (8.5%)    |      1 (4.3%)     |         575 (16.8%)          |  1014 (18.3%) |
|  low  |             23 (82.1%)            | 203 (98.1%) |        653 (62.9%)        |    733 (94.8%)     |                14 (100.0%)                 |    43 (91.5%)   |     22 (95.7%)    |         2842 (83.2%)         |  4533 (81.7%) |
| Total |             28 (0.5%)             |  207 (3.7%) |        1038 (18.7%)       |    773 (13.9%)     |                 14 (0.3%)                  |    47 (0.8%)    |     23 (0.4%)     |         3417 (61.6%)         | 5547 (100.0%) |
+-------+-----------------------------------+-------------+---------------------------+--------------------+--------------------------------------------+-----------------+-------------------+------------------------------+---------------+

p-value = 2.11e-80 ; NMI = [0.0558, 0.0960]
================================================================================

Sub-Population of size 797
Context = {'state': 'FL'}

+-------+-----------------------------------+--------------+---------------------------+--------------------+--------------------------------------------+-----------------+-------------------+------------------------------+----------------+
| price | American Indian and Alaska Native |    Asian     | Black or African American | Hispanic or Latino | Native Hawaiian and Other Pacific Islander | Some Other Race | Two or More Races | White Not Hispanic or Latino |     Total      |
+-------+-----------------------------------+--------------+---------------------------+--------------------+--------------------------------------------+-----------------+-------------------+------------------------------+----------------+
|  high |             0.0 (0.0%)            |  0.0 (0.0%)  |       377.0 (67.1%)       |     0.0 (0.0%)     |                 0.0 (nan%)                 |    0.0 (0.0%)   |     0.0 (nan%)    |          0.0 (0.0%)          | 377.0 (47.3%)  |
|  low  |            2.0 (100.0%)           | 3.0 (100.0%) |       185.0 (32.9%)       |   72.0 (100.0%)    |                 0.0 (nan%)                 |   2.0 (100.0%)  |     0.0 (nan%)    |        156.0 (100.0%)        | 420.0 (52.7%)  |
| Total |             2.0 (0.3%)            |  3.0 (0.4%)  |       562.0 (70.5%)       |    72.0 (9.0%)     |                 0.0 (0.0%)                 |    2.0 (0.3%)   |     0.0 (0.0%)    |        156.0 (19.6%)         | 797.0 (100.0%) |
+-------+-----------------------------------+--------------+---------------------------+--------------------+--------------------------------------------+-----------------+-------------------+------------------------------+----------------+

p-value = 2.44e-81 ; NMI = [0.2601, 0.4487]
--------------------------------------------------------------------------------

Sub-Population of size 789
Context = {'state': 'NY'}

+-------+-----------------------------------+---------------+---------------------------+--------------------+--------------------------------------------+-----------------+-------------------+------------------------------+----------------+
| price | American Indian and Alaska Native |     Asian     | Black or African American | Hispanic or Latino | Native Hawaiian and Other Pacific Islander | Some Other Race | Two or More Races | White Not Hispanic or Latino |     Total      |
+-------+-----------------------------------+---------------+---------------------------+--------------------+--------------------------------------------+-----------------+-------------------+------------------------------+----------------+
|  high |             0.0 (0.0%)            |   0.0 (0.0%)  |         2.0 (4.8%)        |     0.0 (0.0%)     |                 0.0 (nan%)                 |    0.0 (0.0%)   |     0.0 (nan%)    |        391.0 (57.3%)         | 393.0 (49.8%)  |
|  low  |            2.0 (100.0%)           | 14.0 (100.0%) |        40.0 (95.2%)       |   47.0 (100.0%)    |                 0.0 (nan%)                 |   2.0 (100.0%)  |     0.0 (nan%)    |        291.0 (42.7%)         | 396.0 (50.2%)  |
| Total |             2.0 (0.3%)            |  14.0 (1.8%)  |        42.0 (5.3%)        |    47.0 (6.0%)     |                 0.0 (0.0%)                 |    2.0 (0.3%)   |     0.0 (0.0%)    |        682.0 (86.4%)         | 789.0 (100.0%) |
+-------+-----------------------------------+---------------+---------------------------+--------------------+--------------------------------------------+-----------------+-------------------+------------------------------+----------------+

p-value = 1.78e-29 ; NMI = [0.0894, 0.2176]
--------------------------------------------------------------------------------

Hierarchical printing of subpopulations (summary)

================================================================================

 Context = {} ; Effect = 0.0558269372988 ; Size = 5547
   Context = {'state': 'NY'} ; Effect = 0.0894367271196 ; Size = 789
   Context = {'state': 'FL'} ; Effect = 0.260084867682 ; Size = 797
--------------------------------------------------------------------------------


++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
================================================================================
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

Sample Size: 7396
Training Size: 1849
Testing Size: 5547
================================================================================
Commit Hash: 	fbbd13129deeae3b397e31f3d7d20ffc123c2423

Dataset: 	../data/benchmark/benchmark.csv
Training Size: 	1849
Testing Size: 	5547
Attributes: 	['city', 'state', 'gender', 'race', 'income', 'price']
Protected: 	income
Explanatory: 	None
Target: 	price

Tree Params: 	{'min_leaf_size': 100, 'max_depth': 5, 'agg_type': 'AVG'}
Metric: 	NMI(confidence=0.95)

Report Params: 	{'new_measure': None, 'node_filter': 'ALL', 'fdr': 0.05, 'approx': True, 'sort_by': 'EFFECT'}
================================================================================

Global Population of size 5547

+-------+--------------+---------------+---------------+
| price | income < 50K | income >= 50K |     Total     |
+-------+--------------+---------------+---------------+
|  high | 520 (18.6%)  |  494 (18.0%)  |  1014 (18.3%) |
|  low  | 2283 (81.4%) |  2250 (82.0%) |  4533 (81.7%) |
| Total | 2803 (50.5%) |  2744 (49.5%) | 5547 (100.0%) |
+-------+--------------+---------------+---------------+

p-value = 5.97e-01 ; NMI = [0.0000, 0.0019]
================================================================================

Sub-Population of size 501
Context = {'gender': 'M', 'race': 'Black or African American'}

+-------+--------------+---------------+--------------+
| price | income < 50K | income >= 50K |    Total     |
+-------+--------------+---------------+--------------+
|  high |  91 (32.0%)  |   98 (45.2%)  | 189 (37.7%)  |
|  low  | 193 (68.0%)  |  119 (54.8%)  | 312 (62.3%)  |
| Total | 284 (56.7%)  |  217 (43.3%)  | 501 (100.0%) |
+-------+--------------+---------------+--------------+

p-value = 5.42e-03 ; NMI = [0.0018, 0.0466]
--------------------------------------------------------------------------------

Sub-Population of size 1038
Context = {'race': 'Black or African American'}

+-------+--------------+---------------+---------------+
| price | income < 50K | income >= 50K |     Total     |
+-------+--------------+---------------+---------------+
|  high | 195 (33.0%)  |  190 (42.5%)  |  385 (37.1%)  |
|  low  | 396 (67.0%)  |  257 (57.5%)  |  653 (62.9%)  |
| Total | 591 (56.9%)  |  447 (43.1%)  | 1038 (100.0%) |
+-------+--------------+---------------+---------------+

p-value = 5.13e-03 ; NMI = [0.0010, 0.0238]
--------------------------------------------------------------------------------

Sub-Population of size 3417
Context = {'race': 'White Not Hispanic or Latino'}

+-------+--------------+---------------+---------------+
| price | income < 50K | income >= 50K |     Total     |
+-------+--------------+---------------+---------------+
|  high | 289 (19.5%)  |  286 (14.8%)  |  575 (16.8%)  |
|  low  | 1192 (80.5%) |  1650 (85.2%) |  2842 (83.2%) |
| Total | 1481 (43.3%) |  1936 (56.7%) | 3417 (100.0%) |
+-------+--------------+---------------+---------------+

p-value = 1.02e-03 ; NMI = [0.0008, 0.0125]
--------------------------------------------------------------------------------

Hierarchical printing of subpopulations (summary)

================================================================================

 Context = {} ; Effect = 0.0 ; Size = 5547
   Context = {'race': 'White Not Hispanic or Latino'} ; Effect = 0.000755597112124 ; Size = 3417
   Context = {'race': 'Black or African American'} ; Effect = 0.00102011190231 ; Size = 1038
     Context = {'gender': 'M', 'race': 'Black or African American'} ; Effect = 0.0018466944622 ; Size = 501
--------------------------------------------------------------------------------

